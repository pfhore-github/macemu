<!DOCTYPE html>
<html lang="ja">
  <head>
	<meta charset="UTF-8" />
	<title>M68K macintosh hardware reference SCC</title>
	<link rel="stylesheet" href="style.css" />
  </head>
  <body>
	<h2 id="scc">SCC</h2>
	<p>see also <a href="#serial">serial port</a>.</p>
	<h3>port</h3>
	<dl>
	  <dt>TxD(CPU->port:+-)</dt><dd>Serial port TXD Data(transmit data)</dd>
	  <dt>RTS(CPU->port:-)</dt><dd>Serial port TXD Transaction enable</dd>
	  <dt>RTxC(EX->CPU:-)</dt><dd>GPiA/3.672MHz clock(VIA1.3)</dd>
	  <dt>CTS(port->CPU:+)</dt><dt>TRxC</dt><dd>Serial port HSKiA(handshake input)</dd>
	  <dt>DCD(port->CPU:-)</dt><dd>Serial port HSKiA</dd>
	  <dt>DTR(CPU->port:-)</dt><dd>Serial port HSKoA(handshake output)</dd>
	  <dt>REQ(cpu->VIA1)</dt><dd>SCC wait/request</dd>
	</dl>
	<h3>async mode</h3>
	<h4>transmit</h4>
	
	<h3>register</h3>
	<h4>external registers</h4>
	<dl>
	  <dt>#00</dt><dd>Port B(printer) CMD</dd>
	  <dt>#02</dt><dd>Port A(modem) CMD</dd>
	  <dt>#04</dt><dd>Port B(printer) DATA</dd>
	  <dt>#06</dt><dd>Port A(modem) DATA</dd>
	</table>
	<table><caption>Internal(W)</caption>
	  <tr><th rowspan="2">reg</th>
		<th colspan="3">7(#80)</th><th colspan="3">6(#40)</th><th colspan="3">5(#20)</th><th colspan="3">4(#10)</th>
		<th colspan="3">3(#08)</th><th colspan="3">2(#04)</th><th colspan="3">1(#02)</th><th colspan="3">0(#01)</th>
	  </tr>
	  <tr><th>async</th><th>byte-sync</th><th>SDLC</th><th>async</th><th>byte-sync</th><th>SDLC</th>
		<th>async</th><th>byte-sync</th><th>SDLC</th><th>async</th><th>byte-sync</th><th>SDLC</th>
		<th>async</th><th>byte-sync</th><th>SDLC</th><th>async</th><th>byte-sync</th><th>SDLC</th>
		<th>async</th><th>byte-sync</th><th>SDLC</th><th>async</th><th>byte-sync</th><th>SDLC</th>
	  </tr>
	  <tr><th>0</th>
		<td colspan="6">
		  <table><caption>CRC reset</caption>
			<tr><th>code</th><th>async</th><th>sync</th><th>SDLC</th></tr>
			<tr><th>00</th><td colspan="3">do nothing</td></tr>
			<tr><th>01</th><td class="na">N/A</td><td>reset recieve CRC checker</td></tr>
			<tr><th>10</th><td>reset transmit CRC generator</td></tr>
			<tr><th>11</th><td>reset transmit underrun/EOM latch</td></tr>
		  </table>
		</td>
		<td colspan="9">
		  <table><caption>CRC CMD</caption>
			<tr><th>code</th><th>op</th></tr>
			<tr><th>000</th><td>do noting</td></tr>
			<tr><th>001</th><td>set high register</td></tr>
			<tr><th>010</th><td>reset external/status interrupt</td></tr>
			<tr><th>011</th><td>send abort</td></tr>
			<tr><th>100</th><td>enable interrupt on next character</td></tr>
			<tr><th>101</th><td>reset Transmit interrupt pending</td></tr>
			<tr><th>110</th><td>error reset</td></tr>
			<tr><th>111</th><td>reset highest IUS</td></tr>
		  </table>
		</td>
		<td colspan="9">register number</td>
	  </tr>
	  <tr><th>1</th>
		<td>WAIT/DMA Request Enable</td>
		<td>WAIT/DMA Request Function</td>
		<td>WAIT/DMA Request On Recv/Xfer</td>
		<td colspan="2">
		  <table><caption>recv interrupt modes</caption>
			<tr><th>CODE</th><th>meaning</th></tr>
			<tr><th>00</th><td>Recv interrupt disable</td></tr>
			<tr><th>01</th><td>Recv interrupt on first char or special cond</td></tr>
			<tr><th>10</th><td>Recv interrupt on all chars or special cond</td></tr>
			<tr><th>11</th><td>Recv interrupt on special cond</td></tr>
		  </table>
		</td>
		<td>parity is special condtion</td>
		<td>transmitter interrupt enable</td>
		<td>external/status master interrupt enable</td>
	</table>
	<table><caption>Internal(R)</caption>
	  <tr><th rowspan="2">reg</th><th colspan="8">W</th>
	  <tr>
		<th>7(#80)</th><th>6(#40)</th><th>5(#20)</th><th>4(#10)</th><th>3(#08)</th><th>2(#04)</th><th>1(#02)</th><th>0(#01)</th>
	  </tr>
	  <tr><th>0</th>
		<td colspan="2">
		  <table><caption>CRC reset</caption>
			<tr><th>code</th><th>op</th></tr>
			<tr><th>00</th><td>do noting</td></tr>
			<tr><th>01</th><td>reset CRC checker</td></tr>
			<tr><th>10</th><td>reset transmit CRC generator</td></tr>
			<tr><th>11</th><td>reset transmit underrun/EOM latch</td></tr>
		  </table>
		</td>
		<td colspan="3">
		  <table><caption>CRC CMD</caption>
			<tr><th>code</th><th>op</th></tr>
			<tr><th>000</th><td>do noting</td></tr>
			<tr><th>001</th><td>set high register</td></tr>
			<tr><th>010</th><td>reset external/status interrupt</td></tr>
			<tr><th>011</th><td>send abort</td></tr>
			<tr><th>100</th><td>enable interrupt on next character</td></tr>
			<tr><th>101</th><td>reset Transmit interrupt pending</td></tr>
			<tr><th>110</th><td>error reset</td></tr>
			<tr><th>111</th><td>reset highest IUS</td></tr>
		  </table>
		</td>
		<td colspan="3">register number</td>
		<td>break/abort</td>
		<td>Transmit underrun/EOM</td>
		<td>CTS(HSKiA pin)</td>
		<td>sync/hunt</td>
		<td>DCD</td>
		<td>Tranmit buffer empty</td>
		<td>zero count</td>
		<td>recievec character avlaiable</td>
	  </tr>
	  <tr><th>1</th>
		<td>WAIT/DMA Request Enable</td>
		<td>WAIT/DMA Request Function</td>
		<td>WAIT/DMA Request On Recv/Xfer</td>
		<td colspan="2">
		  <table><caption>recv interrupt modes</caption>
			<tr><th>CODE</th><th>meaning</th></tr>
			<tr><th>00</th><td>Recv interrupt disable</td></tr>
			<tr><th>01</th><td>Recv interrupt on first char or special cond</td></tr>
			<tr><th>10</th><td>Recv interrupt on all chars or special cond</td></tr>
			<tr><th>11</th><td>Recv interrupt on special cond</td></tr>
		  </table>
		</td>
		<td>parity is special condtion</td>
		<td>transmitter interrupt enable</td>
		<td>external/status master interrupt enable</td>
		<td>end of frame status(SDLC only)</td>
		<td>CRC(sync/SDLC)/framing error(async) status</td>
		<td>receiver overrun error status</td>
		<td>parity error status</td>
		<td colspan="3">residue codes (SDLC)</td>
		<td>all sent (async)</td>
	</table>
  </body>
</html>
