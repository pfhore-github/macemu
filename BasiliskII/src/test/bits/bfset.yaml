- name: BFSET/REG/in_range
  init: 
    D2: 0
  opcodes: [ 0167302, 0410 ]
  expected:
    D2: 0x0ff00000

- name: BFSET/REG/wrap
  init: 
    D2: 0
  opcodes: [ 0167302, 03020 ]
  expected:
    D2: 0xff0000ff

- name: BFSET/MEM/1
  init: 
    A1: 0x1000
    MEM:
      0x1000/B: 0x13
  opcodes: [ 0167321, 0404]
  expected:
    MEM: 
      0x1000/B: 0x1F

- name: BFSET/MEM/2
  init: 
    A1: 0x1000
    MEM:
      0x1000/B: 0x11
      0x1001/B: 0x23
  opcodes: [ 0167321, 0410]
  expected:
    MEM: 
      0x1000/B: 0x1F
      0x1001/B: 0xF3

- name: BFSET/MEM/3
  init: 
    A1: 0x1000
    MEM:
      0x1000/B: 0x11
      0x1001/B: 0x23
      0x1002/B: 0x45
  opcodes: [ 0167321, 0420]
  expected:
    MEM: 
      0x1000/B: 0x1F
      0x1001/B: 0xFF
      0x1002/B: 0xF5

- name: BFSET/MEM/4
  init: 
    A1: 0x1000
    MEM:
      0x1000/B: 0x11
      0x1001/B: 0x23
      0x1002/B: 0x45
      0x1003/B: 0x67
  opcodes: [ 0167321, 0430]
  expected:
    MEM: 
      0x1000/B: 0x1F
      0x1001/B: 0xFF
      0x1002/B: 0xFF
      0x1003/B: 0xF7

- name: BFSET/MEM/5
  init: 
    A1: 0x1000
    MEM:
      0x1000/B: 0x11
      0x1001/B: 0x23
      0x1002/B: 0x45
      0x1003/B: 0x67
      0x1004/B: 0x89
  opcodes: [ 0167321, 0400]
  expected:
    MEM: 
      0x1000/B: 0x1F
      0x1001/B: 0xFF
      0x1002/B: 0xFF
      0x1003/B: 0xFF
      0x1004/B: 0xF9

- name: BFSET/MEM/Negative_offset
  init: 
    A1: 0x1001
    D2: -4
    MEM:
      0x1000/B: 0x13
  opcodes: [ 0167321, 04204]
  expected:
    MEM: 
      0x1000/B: 0x1F

- name: BFSET/MEM/Over_offset
  init: 
    A1: 0x1000
    MEM:
      0x1001/B: 0x13
  opcodes: [ 0167321, 01404]
  expected:
    MEM: 
      0x1001/B: 0x1F
